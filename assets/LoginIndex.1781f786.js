import{u as S,X as u,z as T,a as q,I as B,r,o as E,i as F,f as o,e as c,l as e,t as i,h as n,Y as K,Z as N,g as M,_ as z}from"./vendor.27ec842b.js";import{_ as D,u as O,a as X}from"./index.42a86968.js";function Y(f){return["admin","editor"].indexOf(f.trim())>=0}const Z={class:"login-container"},$={class:"title-container"},j={class:"title"},A={class:"svg-container"},G={class:"svg-container"},H={style:{position:"relative"}},J={class:"tips"},Q={class:"tips"},W={style:{"margin-right":"18px"}},ee={class:"tips",style:{"text-align":"right"}},oe={setup(f){const{t:s}=S({useScope:"global"}),b={username:[{required:!0,trigger:"blur",validator:(p,t,l)=>{Y(t)?l():l(new Error("Please enter the correct user name"))}}],password:[{required:!0,trigger:"blur",validator:(p,t,l)=>{t.length<6?l(new Error("The password can not be less than 6 digits")):l()}}]},a=u({username:"admin",password:"123456"}),g=u(null),_=u(!1),k=O(),R=T(),V=q();function w(){g.value.validate(p=>{if(p)_.value=!0,k.login(a.value).then(()=>{R.push(V.query.redirect||"/")}).catch(()=>{}).finally(()=>{_.value=!1});else return console.log("error submit!!"),!1})}const d=u("password"),m=u(null);async function I(){d.value==="password"?d.value="":d.value="password",await z(),m.value.focus()}const h=u(null);return B(()=>{a.value.username===""?h.value.focus():a.value.password===""&&m.value.focus()}),(p,t)=>{const l=r("svg-icon"),y=r("el-input"),x=r("el-form-item"),U=r("lock"),C=r("el-icon"),L=r("el-button"),P=r("el-form");return E(),F("div",Z,[o(P,{ref_key:"loginFormRef",ref:g,model:a.value,rules:b,class:"login-form",autocomplete:"on","label-position":"left"},{default:c(()=>[e("div",$,[e("h3",j,i(n(s)("login.title")),1),o(X,{class:"set-language"})]),o(x,{prop:"username"},{default:c(()=>[e("span",A,[o(l,{"icon-class":"user"})]),o(y,{ref_key:"usernameRef",ref:h,modelValue:a.value.username,"onUpdate:modelValue":t[0]||(t[0]=v=>a.value.username=v),placeholder:n(s)("login.username"),name:"username",type:"text",tabindex:"1",autocomplete:"on"},null,8,["modelValue","placeholder"])]),_:1}),o(x,{prop:"password"},{default:c(()=>[e("span",G,[o(C,null,{default:c(()=>[o(U)]),_:1})]),o(y,{ref_key:"pwdRef",ref:m,modelValue:a.value.password,"onUpdate:modelValue":t[1]||(t[1]=v=>a.value.password=v),type:d.value,placeholder:n(s)("login.password"),name:"password",tabindex:"2",autocomplete:"on",onKeyup:K(w,["enter"])},null,8,["modelValue","type","placeholder","onKeyup"]),e("span",{class:"show-pwd",onClick:I},[o(l,{"icon-class":d.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1}),o(L,{loading:_.value,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:N(w,["prevent"])},{default:c(()=>[M(i(n(s)("login.logIn")),1)]),_:1},8,["loading","onClick"]),e("div",H,[e("div",J,[e("span",null,i(n(s)("login.username"))+" : admin",1),e("span",null,i(n(s)("login.password"))+" : 123123",1)]),e("div",Q,[e("span",W,i(n(s)("login.username"))+" : editor ",1),e("span",null,i(n(s)("login.password"))+" : 321321",1)])]),e("div",ee,i(n(s)("login.hello")),1)]),_:1},8,["model"])])}}};var le=D(oe,[["__scopeId","data-v-0d2d0044"]]);export{le as default};
