import{u as P,X as i,z as S,a as U,I as B,r as g,o as C,i as L,f as o,h as e,Y as T,e as c,l as s,t as u,Z as y,_ as x,$ as q,a0 as K,a1 as N,g as M,p as $,k as z,a2 as D}from"./vendor.4ffc7965.js";import{_ as O,u as X,a as Y}from"./index.54289bbc.js";function Z(r){return["admin","editor"].indexOf(r.trim())>=0}const j=r=>($("data-v-b73008e4"),r=r(),z(),r),A={class:"login-container"},G={class:"title-container"},H={class:"title"},J={class:"svg-container"},Q={class:"svg-container"},W={style:{position:"relative"}},ee={class:"tips"},se={class:"tips"},oe={style:{"margin-right":"18px"}},ae=j(()=>s("div",{class:"tips",style:{"text-align":"right"}},null,-1)),le={setup(r){const{t:a}=P({useScope:"global"}),I={username:[{required:!0,trigger:"blur",validator:(p,n,t)=>{Z(n)?t():t(new Error("Please enter the correct user name"))}}],password:[{required:!0,trigger:"blur",validator:(p,n,t)=>{n.length<6?t(new Error("The password can not be less than 6 digits")):t()}}]},l=i({username:"admin",password:"123456"}),f=i(null),_=i(!1),k=X(),b=S(),R=U();function w(){f.value.validate(p=>{if(p)_.value=!0,k.login(l.value).then(()=>{b.push(R.query.redirect||"/")}).catch(()=>{}).finally(()=>{_.value=!1});else return console.log("error submit!!"),!1})}const d=i("password"),m=i(null);async function V(){d.value==="password"?d.value="":d.value="password",await D(),m.value.focus()}const h=i(null);return B(()=>{l.value.username===""?h.value.focus():l.value.password===""&&m.value.focus()}),(p,n)=>{const t=g("svg-icon"),E=g("lock"),F=g("el-icon");return C(),L("div",A,[o(e(T),{ref_key:"loginFormRef",ref:f,model:l.value,rules:I,class:"login-form",autocomplete:"on","label-position":"left"},{default:c(()=>[s("div",G,[s("h3",H,u(e(a)("login.title")),1),o(Y,{class:"set-language"})]),o(e(y),{prop:"username"},{default:c(()=>[s("span",J,[o(t,{"icon-class":"user"})]),o(e(x),{ref_key:"usernameRef",ref:h,modelValue:l.value.username,"onUpdate:modelValue":n[0]||(n[0]=v=>l.value.username=v),placeholder:e(a)("login.username"),name:"username",type:"text",tabindex:"1",autocomplete:"on"},null,8,["modelValue","placeholder"])]),_:1}),o(e(y),{prop:"password"},{default:c(()=>[s("span",Q,[o(F,null,{default:c(()=>[o(E)]),_:1})]),o(e(x),{ref_key:"pwdRef",ref:m,modelValue:l.value.password,"onUpdate:modelValue":n[1]||(n[1]=v=>l.value.password=v),type:d.value,placeholder:e(a)("login.password"),name:"password",tabindex:"2",autocomplete:"on",onKeyup:q(w,["enter"])},null,8,["modelValue","type","placeholder","onKeyup"]),s("span",{class:"show-pwd",onClick:V},[o(t,{"icon-class":d.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1}),o(e(K),{loading:_.value,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:N(w,["prevent"])},{default:c(()=>[M(u(e(a)("login.logIn")),1)]),_:1},8,["loading","onClick"]),s("div",W,[s("div",ee,[s("span",null,u(e(a)("login.username"))+" : admin",1),s("span",null,u(e(a)("login.password"))+" : 123123",1)]),s("div",se,[s("span",oe,u(e(a)("login.username"))+" : editor ",1),s("span",null,u(e(a)("login.password"))+" : 321321",1)])]),ae]),_:1},8,["model"])])}}};var ue=O(le,[["__scopeId","data-v-b73008e4"]]);export{ue as default};
