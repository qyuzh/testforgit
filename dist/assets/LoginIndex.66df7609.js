import{q as S,X as c,z as T,u as B,I as C,r as i,o as E,g as F,e as s,d as _,k as e,t as u,Y as K,Z as N,f as H,i as M,_ as j}from"./vendor.5efede58.js";import{_ as D,u as O,a as W}from"./index.af5c08e8.js";function X(d){return["admin","editor"].indexOf(d.trim())>=0}function x(d){d.__i18n=d.__i18n||[],d.__i18n.push({locale:"",resource:{zh:{hello:n=>{const{normalize:l}=n;return l(["\u4F60\u597D, \u4E16\u754C!"])}},en:{hello:n=>{const{normalize:l}=n;return l(["Hello World!"])}},es:{hello:n=>{const{normalize:l}=n;return l(["Hallo, welt!"])}},ja:{hello:n=>{const{normalize:l}=n;return l(["\u3053\u3093\u306B\u3061\u306F\u3001\u4E16\u754C\uFF01"])}}}})}const Y={class:"login-container"},Z={class:"title-container"},A={class:"title"},G={class:"svg-container"},J={class:"svg-container"},Q={style:{position:"relative"}},ee={class:"tips"},oe={class:"tips"},se={style:{"margin-right":"18px"}},ne={class:"tips",style:{"text-align":"right"}},z={setup(d){const{t:n}=S({useScope:"local"}),b={username:[{required:!0,trigger:"blur",validator:(o,t,r)=>{X(t)?r():r(new Error("Please enter the correct user name"))}}],password:[{required:!0,trigger:"blur",validator:(o,t,r)=>{t.length<6?r(new Error("The password can not be less than 6 digits")):r()}}]},a=c({username:"admin",password:"123456"}),g=c(null),m=c(!1),R=O(),V=T(),$=B();function h(){g.value.validate(o=>{if(o)m.value=!0,R.login(a.value).then(()=>{V.push($.query.redirect||"/")}).catch(()=>{}).finally(()=>{m.value=!1});else return console.log("error submit!!"),!1})}const p=c("password"),f=c(null);async function I(){p.value==="password"?p.value="":p.value="password",await j(),f.value.focus()}const w=c(null);return C(()=>{a.value.username===""?w.value.focus():a.value.password===""&&f.value.focus()}),(o,t)=>{const r=i("svg-icon"),y=i("el-input"),k=i("el-form-item"),U=i("lock"),q=i("el-icon"),L=i("el-button"),P=i("el-form");return E(),F("div",Y,[s(P,{ref_key:"loginFormRef",ref:g,model:a.value,rules:b,class:"login-form",autocomplete:"on","label-position":"left"},{default:_(()=>[e("div",Z,[e("h3",A,u(o.$t("login.title")),1),s(W,{class:"set-language"})]),s(k,{prop:"username"},{default:_(()=>[e("span",G,[s(r,{"icon-class":"user"})]),s(y,{ref_key:"usernameRef",ref:w,modelValue:a.value.username,"onUpdate:modelValue":t[0]||(t[0]=v=>a.value.username=v),placeholder:o.$t("login.username"),name:"username",type:"text",tabindex:"1",autocomplete:"on"},null,8,["modelValue","placeholder"])]),_:1}),s(k,{prop:"password"},{default:_(()=>[e("span",J,[s(q,null,{default:_(()=>[s(U)]),_:1})]),s(y,{ref_key:"pwdRef",ref:f,modelValue:a.value.password,"onUpdate:modelValue":t[1]||(t[1]=v=>a.value.password=v),type:p.value,placeholder:o.$t("login.password"),name:"password",tabindex:"2",autocomplete:"on",onKeyup:K(h,["enter"])},null,8,["modelValue","type","placeholder","onKeyup"]),e("span",{class:"show-pwd",onClick:I},[s(r,{"icon-class":p.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1}),s(L,{loading:m.value,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:N(h,["prevent"])},{default:_(()=>[H(u(o.$t("login.logIn")),1)]),_:1},8,["loading","onClick"]),e("div",Q,[e("div",ee,[e("span",null,u(o.$t("login.username"))+" : admin",1),e("span",null,u(o.$t("login.password"))+" : 123123",1)]),e("div",oe,[e("span",se,u(o.$t("login.username"))+" : editor ",1),e("span",null,u(o.$t("login.password"))+" : 321321",1)])]),e("div",ne,u(M(n)("hello")),1)]),_:1},8,["model"])])}}};typeof x=="function"&&x(z);var re=D(z,[["__scopeId","data-v-de7cc696"]]);export{re as default};
